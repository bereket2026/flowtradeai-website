<!DOCTYPE html>
<html>
<head>
  <title>Dashboard â€“ FlowTradeAI</title>
</head>

<body style="font-family:Arial;background:#020617;color:white;text-align:center;padding-top:60px;">

<h1>FlowTradeAI Dashboard</h1>

<p id="status">Checking bot status...</p>

<br>

<button onclick="startBot()" style="padding:12px 25px;background:#22c55e;color:black;border:none;font-size:16px;">
Start Auto Trade
</button>

<br><br>

<button onclick="stopBot()" style="padding:12px 25px;background:#ef4444;color:white;border:none;font-size:16px;">
Stop Auto Trade
</button>

<br><br><br>

<button onclick="logout()" style="padding:8px 18px;background:#444;color:white;border:none;">
Logout
</button>

<script>
const API = "https://flowtradeai-backend-v3.onrender.com";
const token = localStorage.getItem("token");

if (!token) {
  window.location.href = "login.html";
}

async function startBot() {
  const res = await fetch(API + "/start-bot", {
    method: "POST",
    headers: { "Authorization": "Bearer " + token }
  });

  const data = await res.json();
  document.getElementById("status").innerText = data.message || data.error;
}

async function stopBot() {
  const res = await fetch(API + "/stop-bot", {
    method: "POST",
    headers: { "Authorization": "Bearer " + token }
  });

  const data = await res.json();
  document.getElementById("status").innerText = data.message || data.error;
}

function logout() {
  localStorage.removeItem("token");
  window.location.href = "login.html";
}
</script>

</body>
</html>
